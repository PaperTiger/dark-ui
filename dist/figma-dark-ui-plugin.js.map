{"version":3,"file":"figma-dark-ui-plugin.js","sources":["../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../src/index.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","const propsWithColor = [\n  \"color\",\n  \"backgroundColor\",\n  \"fill\",\n  \"stroke\",\n  \"borderBottomColor\",\n  \"borderRightColor\",\n  \"borderLeftColor\",\n  \"borderTopColor\"\n];\n\nconst palette = {\n  panel: \"#262829\",\n  panelRowOnHover: \"#202122\",\n  panelRowActive: \"#36393c\",\n  panelRowChildActive: \"#2f3132\",\n  panelDivider: \"#36383a\",\n  text: \"#C1C5C9\",\n  textCode: \"#dcdee0\",\n  textActive: \"#FFFFFF\",\n  textDisabled: \"#818688\",\n  textDisabledRowActive: \"#777c7e\",\n  textComponent: \"#a694ff\",\n  textComponentDisabled: \"#5f4fb0\",\n  textComponentDisabledRowActive: \"#8e82c9\",\n  toolbarBg: \"#333639\",\n  inputFocus: \"rgba(255, 255, 255, 0.1)\",\n  iconButtonHover: \"rgba(255, 255, 255, 0.06)\"\n};\n\nconst colorsMap = {\n  \"rgb(255, 255, 255)\": palette.panel,\n  \"rgb(252, 252, 252)\": palette.panel,\n  \"rgb(248, 248, 248)\": palette.panelRowOnHover,\n  \"rgb(240, 240, 240)\": palette.panelRowOnHover,\n  \"rgb(241, 249, 255)\": palette.panelRowChildActive,\n  \"rgb(237, 245, 250)\": palette.panelRowChildActive,\n  \"rgb(229, 229, 229)\": palette.panelDivider,\n  \"rgb(239, 239, 239)\": palette.panelDivider,\n  \"rgb(217, 217, 217)\": palette.panelDivider,\n  \"rgb(212, 212, 212)\": palette.panelDivider,\n  \"rgb(218, 235, 247)\": palette.panelRowActive,\n  \"rgb(191, 186, 252)\": palette.textComponentDisabledRowActive,\n  \"rgb(180, 180, 250)\": palette.textComponentDisabledRowActive,\n  \"rgb(179, 179, 179)\": palette.textDisabled,\n  \"rgb(166, 172, 175)\": palette.textDisabledRowActive,\n  \"rgb(123, 97, 255)\": palette.textComponent,\n  \"rgb(68, 68, 68)\": palette.textCode,\n  \"rgb(51, 51, 51)\": palette.text,\n  \"rgb(44, 44, 44)\": palette.toolbarBg,\n  \"rgb(5, 5, 5)\": palette.textActive,\n  \"rgb(0, 0, 0)\": palette.textActive,\n  \"rgba(0, 0, 0, 0.06)\": palette.iconButtonHover,\n  \"rgba(0, 0, 0, 0.1)\": palette.inputFocus,\n  \"rgba(0, 0, 0, 0.15)\": \"rgba(255,255,255, 0.15)\",\n  \"rgba(0, 0, 0, 0.2)\": \"rgba(255,255,255, 0.2)\",\n  \"rgba(0, 0, 0, 0.3)\": \"rgba(255,255,255, 0.3)\",\n  \"rgba(0, 0, 0, 0.4)\": \"rgba(255,255,255, 0.4)\",\n  \"rgba(0, 0, 0, 0.6)\": \"rgba(255,255,255, 0.6)\",\n  \"rgba(0, 0, 0, 0.5)\": \"rgba(255, 255, 255, 0.5)\",\n  \"rgba(0, 0, 0, 0.75)\": \"rgba(255,255,255, 0.75)\",\n  \"rgba(0, 0, 0, 0.8)\": \"rgba(255,255,255, 0.8)\",\n  \"rgba(0, 0, 0, 0.9)\": \"rgba(255, 255, 255, 0.9)\",\n  \"rgba(0, 0, 0, 0.95)\": \"rgba(255, 255, 255, 0.95)\",\n  \"rgba(44, 44, 44, 0.8)\": palette.toolbarBg,\n  \"rgba(51, 51, 51, 0.3)\": palette.textDisabled,\n  \"rgba(123, 97, 255, 0.4)\": palette.textComponentDisabled,\n  \"rgba(255, 255, 255, 0)\": \"rgba(0, 0, 0, 0)\",\n  \"rgba(255, 255, 255, 0.2)\": \"rgba(0, 0, 0, 0.2)\",\n  \"rgba(255, 255, 255, 0.4)\": \"rgba(0, 0, 0, 0.4)\",\n  \"rgba(255, 255, 255, 0.05)\": \"rgba(0, 0, 0, 0.05)\",\n  \"rgba(255, 255, 255, 0.5)\": \"rgba(0, 0, 0, 0.5)\",\n  \"rgba(255, 255, 255, 0.8)\": \"rgba(0, 0, 0, 0.8)\",\n  \"rgba(255, 255, 255, 0.95)\": \"rgba(0, 0, 0, 0.95)\"\n};\n\nconst selectorsToIgnore = [\n  \".action--unfaded\",\n  \".action--enabled\",\n  \".action_option\",\n  \".avatar--root--2kH_E\",\n  \".basic_form--primaryBtn\",\n  \".basic_form--greenBtn\",\n  \".draggable_modal--backgroundOverlay--CPf6e\",\n  \".emoji-mart-anchor-selected\",\n  \".flyout_view--flyout\",\n  \".folder_view--folderTeamName\",\n  \".folder_view--pathSeparator\",\n  \".filename_view--title\",\n  \".filename_view--pathSeparator\",\n  \".fullscreen_menu--searchInput\",\n  \".header_modal--modalBackground\",\n  \".multilevel_dropdown--option\",\n  \".library_item_tile--descriptionPopout\",\n  \".pointing_dropdown\",\n  \".transition_preview_pane--\",\n  \".top_bar--\",\n  \".tooltip--\",\n  \".toolbar_styles--activeButton\",\n  \".toolbar_styles--enabledButton\",\n  \".user_view--name\",\n  \".text--_whiteText\",\n  \".team_link--icon\",\n  \".zoom_menu--zoomMenu\",\n  \".help_widget--helpWidget\",\n  \".help_widget--tooltip\",\n  \".raw_components--iconButtonSelected\",\n  \".visual_bell\"\n];\n\nconst cssOverrides = `\n\n  // Figma Dark Theme | Brought to you by:\n  // Mirko Santangelo, Papertiger, All Right Reserved\n  \n  .top_bar--header---JfcG,top_bar--header---JfcG\n  .help_widget--helpWidget--22IIi { \n      background: ${palette.toolbarBg}; \n  }\n\n  .in_app_page__REFRESH--content--1l70i {\n      background-color: ${palette.panel}; \n  }\n\n  .option_button--untoggled--2KWMQ:not(.option_button--disabled--YNeqs):hover {\n      box-shadow: inset 0 0 0 1px ${palette.inputFocus};\n  }\n\n  .pages_panel--tabsHeaderBordered--28fYc {\n      box-shadow: 0 1px 0 0 ${palette.panelDivider};\n  }\n\n  .search--margin24--3oubR .search--searchInput--2JmjM,\n  .search--margin12--3G1pl .search--searchInput--2JmjM,\n  [class*=\"style_icon--bitmapImage\"]:not([class*=\"style_icon--fillIcon\"]),\n  [class*=\"style_preview_panel--renderedTextStyleThumbnail\"] {\n    -webkit-filter: invert(90%);\n    filter: invert(90%);\n  }\n\n  .modal--title--1kOv4,\n  .segmented_control--segmentSelected--3vDJm {\n      fill: ${palette.text};\n      color: ${palette.text};\n  }\n\n  .raw_components--textInput--23_ta:not(:disabled):not(:hover):placeholder-shown {\n      background: linear-gradient(90deg,transparent 6px,rgba(255,255,255,.1) 0);\n      background-size: calc(100% - 6px) 1px;\n      background-position: left bottom -1px;\n      background-repeat: repeat-x;\n  }\n\n  .transform_panel--sliderContainer--3SoqU div div {\n      background-color: ${palette.panelDivider};\n  }\n\n  .transform_panel--sliderAnnotationStroke--PBBmO {\n      border-color: ${palette.textDisabled};\n  }\n\n  .transition_preview_pane--previewPanel--3sZan {\n      background: ${palette.iconButtonHover};\n  }\n\n  [class*=\"role_row--select\"] {\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOSIgaGVpZ2h0PSI2IiB2aWV3Qm94PSIwIDAgOSA2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICA8ZyBkYXRhLW5hbWU9IkNhbnZhcyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyODEyIC0xMTgwOCkiIGZpbGw9Im5vbmUiPiAgICAgICAgPGcgZGF0YS1uYW1lPSJWZWN0b3IgNyAoU3Ryb2tlKSI+ICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI4MTIuNiAxMTgwOC42KSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgwIiBmaWxsPSIjNjY2NjY2IiBmaWxsLW9wYWNpdHk9IjEiLz4gICAgICAgICAgICA8L2c+ICAgICAgICA8L2c+ICAgIDwvZz4gICAgPGRlZnM+ICAgICAgICA8cGF0aCBpZD0icGF0aDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNIDAgMC43MDcxMDdMIDAuNzA3MTA3IDBMIDMuODUzNTUgMy4xNDY0NUwgNyAwTCA3LjcwNzExIDAuNzA3MTA3TCAzLjg1MzU1IDQuNTYwNjZMIDAgMC43MDcxMDdaIi8+ICAgIDwvZGVmcz48L3N2Zz4=);\n  }\n\n  [class*=\"emoji-mart-search\"] input,\n  .lazy_input--lazyInput--2kTZE:not(.search--searchInput--2JmjM) {\n      background: ${palette.panel};\n      color: ${palette.text};\n  }\n\n  .basic_form--primaryBtn--3NqnQ:disabled {\n      color: ${palette.text};\n      background-color: rgba(255,255,255,.3);\n      border-color: rgba(255,255,255,.3);\n  }\n\n  .sidebar--navDefault--1zbCB,\n  .updates--updateFooter--1JjnE,\n  .library_preferences_modal--slidingPane--2C_Nx {\n      background-color: ${palette.panel};\n  }\n\n  .history_view--timeAsLabel--6fKiV {\n      color: ${palette.textDisabled};\n  }\n\n  .top_bar--container--1xQEs,\n  .sidebar--navDefault--1zbCB,\n  .top_bar--container--1xQEs {\n     box-shadow: 1px 0 0 0 rgba(255,255,255,.1);\n  }\n\n  .linkified {\n      color: #30c2ff;\n  }\n\n  .emoji-mart-category-label span {\n      background-color: transparent;\n      color: ${palette.textActive};\n  }\n\n  .full_width_page--fullWidthPage--Fg4oT {\n      color: ${palette.text};\n  }\n\n  .team_admin--backToFiles--3tTyp {\n      border-color: rgba(255,255,255,.15);\n  }\n`;\n\nexport default class DarkUIPlugin {\n  constructor() {\n    const { figmaPlus } = window;\n\n    this.init();\n  }\n\n  init() {\n    let style = document.createElement(\"style\"),\n      cssNode = document.createTextNode(cssOverrides);\n\n    style.id = \"f-ui\";\n    style.appendChild(cssNode);\n\n    document.head.appendChild(style);\n    document.body.classList.add(\"has-dark-theme\");\n\n    this.mapColorsToRules();\n\n    console.log(\"[DARKUI] Welcome to the dark side.\");\n  }\n\n  getCoreStylesheet() {\n    let css = document.styleSheets,\n      coreStylesheet;\n\n    Object.keys(css).forEach(key => {\n      let cssFileUrl = css[key].href;\n\n      if (cssFileUrl && cssFileUrl.includes(\"figma_app\")) {\n        coreStylesheet = css[key].cssRules;\n      }\n    });\n\n    return coreStylesheet;\n  }\n\n  getCoreUIColor(cssRule) {\n    propsWithColor.forEach(prop => {\n      let colorValue = cssRule.style[prop];\n\n      if (colorValue != \"\") {\n        if (!this.figmaColors.hasOwnProperty(colorValue)) {\n          this.figmaColors[colorValue] = null;\n        }\n      }\n    });\n  }\n\n  mapColorsToRules() {\n    this.figmaColors = {};\n\n    let figmaCoreStylesheet = this.getCoreStylesheet();\n\n    for (let cssRule of figmaCoreStylesheet) {\n      if (\n        cssRule.selectorText != undefined &&\n        this.isRuleIgnored(cssRule.selectorText) == false\n      ) {\n        if (\n          (cssRule.style != undefined && cssRule.style.color != \"\") ||\n          cssRule.style.backgroundColor != \"\" ||\n          cssRule.style.fill != \"\" ||\n          cssRule.style.stroke != \"\" ||\n          cssRule.style.borderBottomColor != \"\" ||\n          cssRule.style.borderRightColor != \"\" ||\n          cssRule.style.borderTopColor != \"\" ||\n          cssRule.style.borderLeftColor != \"\"\n        ) {\n          propsWithColor.forEach(colorProp => {\n            let colorValue = cssRule.style[colorProp];\n\n            if (colorValue != \"\" && colorsMap.hasOwnProperty(colorValue)) {\n              cssRule.style[colorProp] = colorsMap[colorValue];\n            }\n          });\n\n          // Utility to get Colors used in Figma\n          this.getCoreUIColor(cssRule);\n        }\n      }\n    }\n  }\n\n  isRuleIgnored(selector) {\n    let isMatch = false;\n\n    selectorsToIgnore.forEach(query => {\n      if (selector.includes(query)) {\n        isMatch = true;\n      }\n    });\n\n    return isMatch;\n  }\n}\n\nwindow.darkUIPlugin = new DarkUIPlugin();\n"],"names":["_classCallCheck","instance","Constructor","TypeError","module","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","propsWithColor","palette","panel","panelRowOnHover","panelRowActive","panelRowChildActive","panelDivider","text","textCode","textActive","textDisabled","textDisabledRowActive","textComponent","textComponentDisabled","textComponentDisabledRowActive","toolbarBg","inputFocus","iconButtonHover","colorsMap","selectorsToIgnore","cssOverrides","DarkUIPlugin","window","figmaPlus","init","style","document","createElement","cssNode","createTextNode","id","appendChild","head","body","classList","add","mapColorsToRules","console","log","css","styleSheets","coreStylesheet","keys","forEach","cssFileUrl","href","includes","cssRules","cssRule","prop","colorValue","figmaColors","hasOwnProperty","figmaCoreStylesheet","getCoreStylesheet","selectorText","undefined","isRuleIgnored","color","backgroundColor","fill","stroke","borderBottomColor","borderRightColor","borderTopColor","borderLeftColor","colorProp","getCoreUIColor","selector","isMatch","query","darkUIPlugin"],"mappings":"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"}