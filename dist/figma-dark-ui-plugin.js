!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n=n||self)["figma-dark-ui-plugin"]=e()}(this,function(){"use strict";var e=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")};function r(n,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var o=function(n,e,o){return e&&r(n.prototype,e),o&&r(n,o),n},c=["color","backgroundColor","fill","stroke","borderBottomColor","borderRightColor","borderLeftColor","borderTopColor"],n="#262829",t="#202122",a="#2f3132",l="#36383a",i="#C1C5C9",g="#FFFFFF",b="#818688",d="#8e82c9",s="#333639",u="rgba(255, 255, 255, 0.1)",m="rgba(255, 255, 255, 0.06)",p={"rgb(255, 255, 255)":n,"rgb(252, 252, 252)":n,"rgb(248, 248, 248)":t,"rgb(240, 240, 240)":t,"rgb(241, 249, 255)":a,"rgb(237, 245, 250)":a,"rgb(229, 229, 229)":l,"rgb(239, 239, 239)":l,"rgb(217, 217, 217)":l,"rgb(212, 212, 212)":l,"rgb(218, 235, 247)":"#36393c","rgb(191, 186, 252)":d,"rgb(180, 180, 250)":d,"rgb(179, 179, 179)":b,"rgb(166, 172, 175)":"#777c7e","rgb(123, 97, 255)":"#a694ff","rgb(68, 68, 68)":"#dcdee0","rgb(51, 51, 51)":i,"rgb(44, 44, 44)":s,"rgb(5, 5, 5)":g,"rgb(0, 0, 0)":g,"rgba(0, 0, 0, 0.06)":m,"rgba(0, 0, 0, 0.1)":u,"rgba(0, 0, 0, 0.15)":"rgba(255,255,255, 0.15)","rgba(0, 0, 0, 0.2)":"rgba(255,255,255, 0.2)","rgba(0, 0, 0, 0.3)":"rgba(255,255,255, 0.3)","rgba(0, 0, 0, 0.4)":"rgba(255,255,255, 0.4)","rgba(0, 0, 0, 0.6)":"rgba(255,255,255, 0.6)","rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)","rgba(0, 0, 0, 0.75)":"rgba(255,255,255, 0.75)","rgba(0, 0, 0, 0.8)":"rgba(255,255,255, 0.8)","rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)","rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)","rgba(44, 44, 44, 0.8)":s,"rgba(51, 51, 51, 0.3)":b,"rgba(123, 97, 255, 0.4)":"#5f4fb0","rgba(255, 255, 255, 0)":"rgba(0, 0, 0, 0)","rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)","rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.4)","rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)","rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)","rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)","rgba(255, 255, 255, 0.95)":"rgba(0, 0, 0, 0.95)"},h=[".action--unfaded",".action--enabled",".action_option",".avatar--root--2kH_E",".basic_form--primaryBtn",".basic_form--greenBtn",".draggable_modal--backgroundOverlay--CPf6e",".emoji-mart-anchor-selected",".flyout_view--flyout",".folder_view--folderTeamName",".folder_view--pathSeparator",".filename_view--title",".filename_view--pathSeparator",".fullscreen_menu--searchInput",".header_modal--modalBackground",".multilevel_dropdown--option",".library_item_tile--descriptionPopout",".pointing_dropdown",".transition_preview_pane--",".top_bar--",".tooltip--",".toolbar_styles--activeButton",".toolbar_styles--enabledButton",".user_view--name",".text--_whiteText",".team_link--icon",".zoom_menu--zoomMenu",".help_widget--helpWidget",".help_widget--tooltip",".raw_components--iconButtonSelected",".visual_bell"],f="\n\n  /* Figma Dark Theme | Brought to you by:\n     Mirko Santangelo, Papertiger, All Right Reserved */\n  \n  .top_bar--header---JfcG,top_bar--header---JfcG\n  .help_widget--helpWidget--22IIi { \n      background: ".concat(s,"; \n  }\n\n  .in_app_page__REFRESH--content--1l70i {\n      background-color: ").concat(n,"; \n  }\n\n  .option_button--untoggled--2KWMQ:not(.option_button--disabled--YNeqs):hover {\n      box-shadow: inset 0 0 0 1px ").concat(u,";\n  }\n\n  .pages_panel--tabsHeaderBordered--28fYc {\n      box-shadow: 0 1px 0 0 ").concat(l,';\n  }\n\n  .search--margin24--3oubR .search--searchInput--2JmjM,\n  .search--margin12--3G1pl .search--searchInput--2JmjM,\n  [class*="style_icon--bitmapImage"]:not([class*="style_icon--fillIcon"]),\n  [class*="style_preview_panel--renderedTextStyleThumbnail"] {\n    -webkit-filter: invert(90%);\n    filter: invert(90%);\n  }\n\n  .modal--title--1kOv4,\n  .segmented_control--segmentSelected--3vDJm {\n      fill: ').concat(i,";\n      color: ").concat(i,";\n  }\n\n  .raw_components--textInput--23_ta:not(:disabled):not(:hover):placeholder-shown {\n      background: linear-gradient(90deg,transparent 6px,rgba(255,255,255,.1) 0);\n      background-size: calc(100% - 6px) 1px;\n      background-position: left bottom -1px;\n      background-repeat: repeat-x;\n  }\n\n  .transform_panel--sliderContainer--3SoqU div div {\n      background-color: ").concat(l,";\n  }\n\n  .transform_panel--sliderAnnotationStroke--PBBmO {\n      border-color: ").concat(b,";\n  }\n\n  .transition_preview_pane--previewPanel--3sZan {\n      background: ").concat(m,';\n  }\n\n  [class*="role_row--select"] {\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOSIgaGVpZ2h0PSI2IiB2aWV3Qm94PSIwIDAgOSA2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICA8ZyBkYXRhLW5hbWU9IkNhbnZhcyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyODEyIC0xMTgwOCkiIGZpbGw9Im5vbmUiPiAgICAgICAgPGcgZGF0YS1uYW1lPSJWZWN0b3IgNyAoU3Ryb2tlKSI+ICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI4MTIuNiAxMTgwOC42KSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgwIiBmaWxsPSIjNjY2NjY2IiBmaWxsLW9wYWNpdHk9IjEiLz4gICAgICAgICAgICA8L2c+ICAgICAgICA8L2c+ICAgIDwvZz4gICAgPGRlZnM+ICAgICAgICA8cGF0aCBpZD0icGF0aDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNIDAgMC43MDcxMDdMIDAuNzA3MTA3IDBMIDMuODUzNTUgMy4xNDY0NUwgNyAwTCA3LjcwNzExIDAuNzA3MTA3TCAzLjg1MzU1IDQuNTYwNjZMIDAgMC43MDcxMDdaIi8+ICAgIDwvZGVmcz48L3N2Zz4=);\n  }\n\n  [class*="emoji-mart-search"] input,\n  .lazy_input--lazyInput--2kTZE:not(.search--searchInput--2JmjM) {\n      background: ').concat(n,";\n      color: ").concat(i,";\n  }\n\n  .basic_form--primaryBtn--3NqnQ:disabled {\n      color: ").concat(i,";\n      background-color: rgba(255,255,255,.3);\n      border-color: rgba(255,255,255,.3);\n  }\n\n  .sidebar--navDefault--1zbCB,\n  .updates--updateFooter--1JjnE,\n  .library_preferences_modal--slidingPane--2C_Nx {\n      background-color: ").concat(n,";\n  }\n\n  .history_view--timeAsLabel--6fKiV {\n      color: ").concat(b,";\n  }\n\n  .top_bar--container--1xQEs,\n  .sidebar--navDefault--1zbCB,\n  .top_bar--container--1xQEs {\n     box-shadow: 1px 0 0 0 rgba(255,255,255,.1);\n  }\n\n  .linkified {\n      color: #30c2ff;\n  }\n\n  .emoji-mart-category-label span {\n      background-color: transparent;\n      color: ").concat(g,";\n  }\n\n  .full_width_page--fullWidthPage--Fg4oT {\n      color: ").concat(i,";\n  }\n\n  .team_admin--backToFiles--3tTyp {\n      border-color: rgba(255,255,255,.15);\n  }\n\n  /* Figma Plus Overrides */\n\n  .v--modal.v--modal-box,\n  #pluginManager .modal-content,\n  .detail-screen,\n  .developer-screen {\n\t\tbackground: ").concat(n,";\n\t}\n\t\n\t.modal-tab-large {\n\t\tcolor: rgba(255,255,255,.3);\n\t}\n\t\n\t.modal-tab-large:hover {\n\t    color: rgba(255,255,255,.8);\n\t}\n  \n  .header h1,\n  .section h2,\n  .empty-state-title,\n  .modal-content input,\n  .pluginItem .name,\n  .modal-tab-large.active-tab,\n  .detail-screen .name,\n  .detail-screen .section-title,\n  .version .version-number,\n  .js-list .path {\n\t\tcolor:white;\n  }\n  \n  .description {\n    color: ").concat(i,";\n  }\n  \n  .modal-content input:hover, .modal-content textarea:hover, .tab-content input:hover, .tab-content textarea:hover {\n    border-color: ").concat(u,";\n  }\n  \n  .js-list,\n  .modal-header,\n  .search-box,\n  .detail-screen .header, \n  .detail-screen .org-header {\n\t    border-bottom: 1px solid ").concat(l,";\n\t}\n  \n  .modal-header .modal-close-button,\n  .figma-icon, .figma-icon-button,\n  .detail-screen .back-button.figma-icon.chevron-left:after {\n\t\tfill:white;\n\t\tcolor:white;\n  }\n  \n  .modal-content button, .tab-content button {\n    color: white;\n    border-color:white;\n  }\n\n  .pluginItem:hover {\n    background: ").concat(t,";\n    color: white;\n  }\n\n  .detail-screen .v-carousel-dot.active {\n    background: white;\n  }\n\n  .detail-screen .v-carousel-dot {\n    background: rgba(255,255,255,0.25);\n  }\n"),I=function(){function n(){e(this,n);window.figmaPlus;this.init()}return o(n,[{key:"init",value:function(){var n=document.createElement("style"),e=document.createTextNode(f);n.id="f-ui",n.appendChild(e),document.head.appendChild(n),document.body.classList.add("has-dark-theme"),this.mapColorsToRules(),console.log("[DARKUI] Welcome to the dark side.")}},{key:"getCoreStylesheet",value:function(){var o,r=document.styleSheets;return Object.keys(r).forEach(function(n){var e=r[n].href;e&&e.includes("figma_app")&&(o=r[n].cssRules)}),o}},{key:"getCoreUIColor",value:function(o){var r=this;c.forEach(function(n){var e=o.style[n];""!=e&&(r.figmaColors.hasOwnProperty(e)||(r.figmaColors[e]=null))})}},{key:"mapColorsToRules",value:function(){var n=this;this.figmaColors={};var e=this.getCoreStylesheet(),o=!0,r=!1,t=void 0;try{for(var a,l=function(){var o=a.value;null!=o.selectorText&&0==n.isRuleIgnored(o.selectorText)&&(null!=o.style&&""!=o.style.color||""!=o.style.backgroundColor||""!=o.style.fill||""!=o.style.stroke||""!=o.style.borderBottomColor||""!=o.style.borderRightColor||""!=o.style.borderTopColor||""!=o.style.borderLeftColor)&&(c.forEach(function(n){var e=o.style[n];""!=e&&p.hasOwnProperty(e)&&(o.style[n]=p[e])}),n.getCoreUIColor(o))},i=e[Symbol.iterator]();!(o=(a=i.next()).done);o=!0)l()}catch(n){r=!0,t=n}finally{try{o||null==i.return||i.return()}finally{if(r)throw t}}}},{key:"isRuleIgnored",value:function(e){var o=!1;return h.forEach(function(n){e.includes(n)&&(o=!0)}),o}}]),n}();return window.darkUIPlugin=new I,I});
